<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Exception :: Léon&#x27;s Note</title>
    <meta name="generator" content="Antora 3.1.7">
    <script>
!function (theme, navWidth) {
  if (theme === 'dark') document.documentElement.classList.add('dark-theme')
  if (navWidth) document.documentElement.style.setProperty('--nav-width', `${navWidth}px`)
}(localStorage && localStorage.getItem('theme') || (matchMedia('(prefers-color-scheme: dark)')?.matches && 'dark'),
  localStorage && localStorage.getItem('nav-width'))
    </script>
    <link rel="stylesheet" href="../../../../_/css/site.css">
    <link rel="stylesheet" href="../../../../_/css/vendor/search.css">
    <link rel="stylesheet" href="../../../../_/css/vendor/page-search.css">
    <link rel="stylesheet" href="../../../../_/css/vendor/spring-tabs.css">

    <meta name="antora-ui-version" content="v0.4.16"> 
    <meta name="version" content="">
    <meta name="component" content="java">
    <meta name="latest-version" content="false">
    <link rel="icon" href="../../../../_/img/favicon.ico" type="image/vnd.microsoft.icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://spring.io">
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>

    <label class="theme-toggler">
      <input
        type="checkbox"
        type="checkbox"
        id="switch-theme-checkbox"
        name="switch-theme-checkbox"
      />
      <span class="icon"><svg
          aria-hidden="true"
          focusable="false"
          data-prefix="fas"
          data-icon="moon"
          class="svg-inline--fa fa-moon moon"
          role="img"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 384 512"
        ><path
            fill="currentColor"
            d="M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"
          ></path>
        </svg>
        <svg
          aria-hidden="true"
          focusable="false"
          data-prefix="fas"
          data-icon="sun"
          class="svg-inline--fa fa-sun sun"
          role="img"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512"
        ><path
            fill="currentColor"
            d="M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"
          ></path>
        </svg></span>
      <span class="text">light</span>
    </label>
  </nav>
</header>
<script>
!function (theme) {
  if (theme === 'dark') {
    document.getElementById('switch-theme-checkbox').parentElement.classList.add('active')
  }
}(localStorage && localStorage.getItem('theme') || (matchMedia('(prefers-color-scheme: dark)')?.matches && 'dark'))
</script>
<div class="body">
<div class="nav-container" data-component="java" data-version="">
  <aside class="nav">
    <div class="panels">
      <div class="nav-panel-menu is-active" data-panel="menu">
        <nav class="nav-menu">
<div class="context">
  <span class="title">Léon&#x27;s Java Note</span>
  <span class="version">default</span>
  <button class="browse-version" id="browse-version">
    <svg
      height="24px"
      id="Layer_1"
      style="enable-background:new 0 0 512 512;"
      version="1.1"
      viewBox="0 0 512 512"
      width="24px"
      xml:space="preserve"
    ><g><path
          d="M256,224c-17.7,0-32,14.3-32,32s14.3,32,32,32c17.7,0,32-14.3,32-32S273.7,224,256,224L256,224z"
        ></path><path
          d="M128.4,224c-17.7,0-32,14.3-32,32s14.3,32,32,32c17.7,0,32-14.3,32-32S146,224,128.4,224L128.4,224z"
        ></path><path
          d="M384,224c-17.7,0-32,14.3-32,32s14.3,32,32,32s32-14.3,32-32S401.7,224,384,224L384,224z"
        ></path></g></svg>
  </button>
  </div>          <div class="toggle-sm">
            <button id="nav-toggle-2" class="nav-toggle"></button>
          </div>
        </nav>
      </div>
      <div class="nav-collapse">
        <button id="nav-collapse-toggle"><span></span></button>        
      </div>
    </div>
    <div class="nav-resize"></div>
  </aside>
</div>
<script>
!function (sidebar) {
  if (sidebar) {
    document.body.classList.add('nav-sm')
  }
}(localStorage && localStorage.getItem('sidebar') === 'close')
</script><main class="article">
<div class="toolbar" role="navigation">
  <button id="nav-toggle-1" class="nav-toggle"></button>
</div>
  <div class="content">
<aside class="sidebar">
  <div class="content">
    <div
      class="toc"
      data-title="Exception"
      data-levels="2"
    >
      <div class="toc-menu"></div>
    </div>
    <div class="sidebar-links">
    </div>
  </div>
</aside>
<article class="doc">
<div class="breadcrumbs-container">
  <nav class="breadcrumbs" aria-label="breadcrumbs">
  </nav>
</div><h1 id="page-title" class="page">Exception</h1>
<div class="sect1">
<h2 id="_checked_exceptions"><a class="anchor" href="#_checked_exceptions"></a>1. Checked exceptions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>checked and enforced at compile time</p>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="../../_images/diag-d0a9cd235e390b11ef39a1abf018dcee969303ec.svg" alt="Diagram">
</div>
</div>
<div class="olist arabic">
<div class="title">StackTraceElement</div>
<ol class="arabic">
<li>
<p>Each element represents a single stack frame.</p>
</li>
<li>
<p>All stack frames except for the one at the top of the stack represent a method invocation.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="title">common exception definition</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class AuthorizationException extends RuntimeException {

    public AuthorizationException() {
        super();
    }

    public AuthorizationException(String message) {
        super(message);
    }

    public AuthorizationException(String message, Throwable cause) {
        super(message, cause);
    }

    public AuthorizationException(Throwable cause) {
        super(cause);
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="InterruptedException"><a class="anchor" href="#InterruptedException"></a>2. InterruptedException</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In Java, one thread cannot stop the other thread. A thread can only request the other thread to stop. The request is made in the form of an interruption.</p>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="../../_images/diag-a20a6c29e14c1184a1e1db23eff7062bb7ac921f.svg" alt="Diagram">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">if (Thread.interrupted()) {  // Clears interrupted status!
    throw new InterruptedException(); <i class="conum" data-value="1"></i><b>(1)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>InterruptedException is thrown and the current thread&#8217;s interrupted status is cleared</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_use_case"><a class="anchor" href="#_use_case"></a>2.1. use case</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public void run() {
    while (!Thread.currentThread().isInterrupted() &amp;&amp; more work to do) { <i class="conum" data-value="1"></i><b>(1)</b>
        try {
            processTask(queue.take());
        } catch (InterruptedException e) {
            // Re-assert the thread’s interrupted status
            Thread.currentThread().interrupt();
        }
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>cancellation points</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public void run() {
    try {
        while (!Thread.currentThread().isInterrupted() &amp;&amp; more work to do) { <i class="conum" data-value="1"></i><b>(1)</b>
            ... do more work
        }
    } catch (InterruptedException e) {
        // thread is interrupted <i class="conum" data-value="2"></i><b>(2)</b>
    } finally {
        ... do clean work
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>cancellation points</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>swallow the InterruptedException with the knowledge that the thread is about to terminate and that therefore there is no code higher up on the call stack that needs to know about the interruption.</td>
</tr>
</table>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="../../_images/diag-41e5899b808fe02c67a2e90eb60104dbdb902746.svg" alt="Diagram">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_throw_exception"><a class="anchor" href="#_throw_exception"></a>3. throw Exception</h2>
<div class="sectionbody">
<div class="paragraph">
<p>filling in stack trace takes time, dependent on the stack depth</p>
</div>
<div class="listingblock">
<div class="title">disable the generation of the stack trace</div>
<div class="content">
<pre>-XX:-StackTraceInThrowable=false</pre>
</div>
</div>
<div class="paragraph">
<p>classloader throw ClassNotFoundException</p>
</div>
<div class="paragraph">
<p>JVM reuse the system-generated exception, not contain a call stack</p>
</div>
</div>
</div>
</article>  </div>
</main>
<div class="modal micromodal-slide" id="modal-versions" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container" role="dialog" aria-modal="true">
            <main class="modal__content" id="modal-versions-content">
              <button data-micromodal-close class="modal-versions-close">
                <svg width="28px" height="28px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><defs><style>.cls-1h{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px;}</style></defs><title/><g id="cross"><line class="cls-1h" x1="7" x2="25" y1="7" y2="25"/><line class="cls-1h" x1="7" x2="25" y1="25" y2="7"/></g></svg>
              </button>
              <div class="colset">
                <div class="col-left">
                  <ul class="nav-versions">
                    <li class="component">
                      <a class="title" href="../../../../ai/index.html">Léon's AI Note</a>
                      <ul class="versions">
                        <li class="version is-latest">
                          <a href="../../../../ai/index.html">
                            default<span class="current">current</span>
                          </a>
                        </li>
                      </ul>
                    </li>
                    <li class="component">
                      <a class="title" href="../../../../bash/index.html">Léon's Bash Note</a>
                      <ul class="versions">
                        <li class="version is-latest">
                          <a href="../../../../bash/index.html">
                            default<span class="current">current</span>
                          </a>
                        </li>
                      </ul>
                    </li>
                    <li class="component">
                      <a class="title" href="../../../../blog/index.html">Léon's Blog</a>
                      <ul class="versions">
                        <li class="version is-latest">
                          <a href="../../../../blog/index.html">
                            default<span class="current">current</span>
                          </a>
                        </li>
                      </ul>
                    </li>
                    <li class="component">
                      <a class="title" href="../../../../database/index.html">Léon's Database Note</a>
                      <ul class="versions">
                        <li class="version is-latest">
                          <a href="../../../../database/index.html">
                            default<span class="current">current</span>
                          </a>
                        </li>
                      </ul>
                    </li>
                    <li class="component is-current">
                      <a class="title" href="../../../index.html">Léon's Java Note</a>
                      <ul class="versions">
                        <li class="version is-current is-latest">
                          <a href="../../../index.html">
                            default<span class="current">current</span>
                          </a>
                        </li>
                      </ul>
                    </li>
                    <li class="component">
                      <a class="title" href="../../../../kubernetes/index.html">Léon's Kubernetes Note</a>
                      <ul class="versions">
                        <li class="version is-latest">
                          <a href="../../../../kubernetes/index.html">
                            default<span class="current">current</span>
                          </a>
                        </li>
                      </ul>
                    </li>
                    <li class="component">
                      <a class="title" href="../../../../language/index.html">Léon's Language Note</a>
                      <ul class="versions">
                        <li class="version is-latest">
                          <a href="../../../../language/index.html">
                            default<span class="current">current</span>
                          </a>
                        </li>
                      </ul>
                    </li>
                    <li class="component">
                      <a class="title" href="../../../../linux/index.html">Léon's Linux Note</a>
                      <ul class="versions">
                        <li class="version is-latest">
                          <a href="../../../../linux/index.html">
                            default<span class="current">current</span>
                          </a>
                        </li>
                      </ul>
                    </li>
                    <li class="component">
                      <a class="title" href="../../../../python/index.html">Léon's Python Note</a>
                      <ul class="versions">
                        <li class="version is-latest">
                          <a href="../../../../python/index.html">
                            default<span class="current">current</span>
                          </a>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </div>
              </div>
            </main>
        </div>
    </div>
</div>

</div>
<script src="../../../../_/js/vendor/import.js"></script>
<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<script async src="../../../../_/js/vendor/spring-tabs.js" data-sync-storage-key="docs:preferred-tab"></script>
  </body>
</html>
